<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>CHASI hub</title>
  <!-- Google Fonts –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞) -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap&subset=cyrillic"
    rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <!-- jsPDF -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
</head>

<body>
  <div class="auth-gate" id="authGate" aria-modal="true" role="dialog">
    <div class="auth-card" id="authCard">
      <div class="auth-emoji">üîí</div>
      <h2>–ó–∞–∫—Ä—ã—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞—Å</h2>
      <p>–í–≤–µ–¥–∏ —Å–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–ª–æ–≤–æ</p>
      <div class="auth-row">
        <input type="password" id="authPwd" placeholder="–°–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–ª–æ–≤–æ" autocomplete="current-password" />
        <button class="btn" id="authOk">–í–æ–π—Ç–∏</button>
      </div>
      <div class="auth-msg" id="authMsg"></div>
    </div>
  </div>

  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">üßÄ</div>
        <div class="title">CHASI hub</div>
      </div>
      <div class="hud">
        <div class="chip">–°–æ–±–µ—Ä–∏ —Å–ª–æ–≤–æ:
          <div class="letters-indicator" id="lettersIndicator"></div>
        </div>
        <div class="chip">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: —Å—Ç—Ä–µ–ª–∫–∏ / WASD <span class="tip">–∏–ª–∏ –∫–Ω–æ–ø–∫–∏ —Å–ø—Ä–∞–≤–∞</span></div>
      </div>
    </header>

    <div class="top-bar">
      <div class="tabs">
        <button class="tab active" data-tab="game">–ò–≥—Ä–∞</button>
        <button class="tab" data-tab="bubble">–ë–æ–±–∞ üßã</button>
        <button class="btn" id="wishlistBtn" title="–°–ø–∏—Å–æ–∫ –∂–µ–ª–∞–Ω–∏–π" style="margin-left: 3rem;">–í–∏—à‚Äë–ª–∏—Å—Ç üéÅ</button>
      </div>
      <button class="btn" id="resetBtn" title="–°–±—Ä–æ—Å–∏—Ç—å">–°–±—Ä–æ—Å</button>
    </div>

    <!-- PAGE: GAME -->
    <section id="page-game" class="page active">
      <div class="game">
        <div class="stage" id="stage">
          <div class="hero" id="hero" aria-label="–≥–µ—Ä–æ–π" title="–≠—Ç–æ —è">üê≠</div>
          <div class="hearts" id="hearts"></div>

          <!-- on-screen controls -->
          <div class="controls" aria-hidden="false">
            <div class="btnc empty"></div>
            <div class="btnc" data-dir="up">‚¨ÜÔ∏è</div>
            <div class="btnc empty"></div>
            <div class="btnc" data-dir="left">‚¨ÖÔ∏è</div>
            <div class="btnc" data-dir="down">‚¨áÔ∏è</div>
            <div class="btnc" data-dir="right">‚û°Ô∏è</div>
            <div class="btnc empty"></div>
            <div class="btnc empty"></div>
            <div class="btnc empty"></div>
          </div>

          <!-- intro overlay -->
          <div class="overlay" id="intro">
            <div class="card">
              <!-- <h1>–°–æ–±–µ—Ä–∏ –≤—Å–µ –±—É–∫–≤—ã —Å–ª–æ–≤–∞ ¬´–ü–†–û–°–¢–ò¬ª</h1> -->
              <h1>–ü–æ–º–æ–≥–∏ –∫–≤—ã—Å–µ üê≠ –Ω–∞–π—Ç–∏ –±—É–∫–≤—ã</h1>
              <button class="btn" id="startBtn">–ù–∞—á–∞—Ç—å</button>
            </div>
          </div>

          <!-- final message -->
          <div class="final" id="final">
            <div>
              <div class="typed" id="typed"></div>
              <div class="accept">
                <button class="btn" id="acceptBtn">–ü—Ä–∏–Ω—è—Ç—å –∏–∑–≤–∏–Ω–µ–Ω–∏—è üíï</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- PAGE: BUBBLE TEA BUILDER -->
    <section id="page-bubble" class="page">
      <div class="bb">
        <div class="bb-wrap">
          <div class="bb-controls">
            <h3>–°–æ–±–µ—Ä–∏ –±–∞–±–ª‚Äë—Ç–∏ –º–µ—á—Ç—ã ‚ú®</h3>
            <div class="bb-row">
              <div class="bb-field">
                <label>–ë–∞–∑–∞</label>
                <select id="bbBase">
                  <option value="black">–ß—ë—Ä–Ω—ã–π —á–∞–π</option>
                  <option value="green">–ó–µ–ª—ë–Ω—ã–π —á–∞–π</option>
                  <option value="oolong">–£–ª—É–Ω</option>
                  <option value="thai">–¢–∞–π—Å–∫–∏–π —á–∞–π</option>
                  <option value="jasmine">–ñ–∞—Å–º–∏–Ω–æ–≤—ã–π</option>
                </select>
              </div>
              <div class="bb-field">
                <label>–ú–æ–ª–æ–∫–æ</label>
                <select id="bbMilk">
                  <option value="none">–ë–µ–∑ –º–æ–ª–æ–∫–∞</option>
                  <option value="dairy">–û–±—ã—á–Ω–æ–µ</option>
                  <option value="oat">–û–≤—Å—è–Ω–æ–µ</option>
                  <option value="coconut">–ö–æ–∫–æ—Å–æ–≤–æ–µ</option>
                </select>
              </div>
            </div>

            <div class="bb-row">
              <div class="bb-field">
                <label>–í–∫—É—Å</label>
                <select id="bbFlavor">
                  <option value="none">–ë–µ–∑ –≤–∫—É—Å–∞</option>
                  <option value="strawberry">–ö–ª—É–±–Ω–∏–∫–∞</option>
                  <option value="mango">–ú–∞–Ω–≥–æ</option>
                  <option value="taro">–¢–∞—Ä–æ</option>
                  <option value="matcha">–ú–∞—Ç—á–∞</option>
                  <option value="caramel">–ö–∞—Ä–∞–º–µ–ª—å</option>
                </select>
              </div>
              <div class="bb-field">
                <label>–°–ª–∞–¥–æ—Å—Ç—å: <span id="bbSweetVal">50%</span></label>
                <input type="range" id="bbSweet" min="0" max="120" step="10" value="50" />
              </div>
            </div>

            <div class="bb-row">
              <div class="bb-field">
                <label>–õ—ë–¥: <span id="bbIceVal">50%</span></label>
                <input type="range" id="bbIce" min="0" max="100" step="10" value="50" />
              </div>
              <div class="bb-field">
                <label>–¢–æ–ø–ø–∏–Ω–≥–∏</label>
                <div class="checkline">
                  <label><input type="checkbox" id="bbBoba" checked /> –¢–∞–ø–∏–æ–∫–∞</label>
                  <label><input type="checkbox" id="bbJelly" /> –ö–æ–∫–æ—Å–æ–≤–æ–µ –∂–µ–ª–µ</label>
                  <label><input type="checkbox" id="bbPopping" /> –ü–æ–ø–ø–∏–Ω' –±–æ–±–∞</label>
                  <label><input type="checkbox" id="bbFoam" /> –°—ã—Ä–Ω–∞—è –ø–µ–Ω–∞</label>
                </div>
              </div>
            </div>

            <div class="bb-actions">
              <button class="btn" id="bbShake">–í—Å—Ç—Ä—è—Ö–Ω—É—Ç—å ‚ú®</button>
              <button class="btn secondary" id="bbToWishlist">–í –≤–∏—à‚Äë–ª–∏—Å—Ç</button>
              <button class="btn secondary" id="bbCopy">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç</button>
            </div>
          </div>

          <div class="bb-preview">
            <div class="cup-wrap">
              <div class="cup" id="bbCup">
                <svg viewBox="0 0 300 400" xmlns="http://www.w3.org/2000/svg">
                  <!-- –°—Ç–∞–∫–∞–Ω -->
                  <defs>
                    <clipPath id="cup-clip">
                      <path
                        d="M60,30 h180 a12,12 0 0 1 12,12 v300 a30,30 0 0 1 -30,30 H78 a30,30 0 0 1 -30,-30 V42 a12,12 0 0 1 12,-12 z" />
                    </clipPath>
                    <linearGradient id="glass-grad" x1="0" y1="0" x2="0" y2="1">
                      <stop offset="0%" stop-color="#ffffff" stop-opacity="0.55"></stop>
                      <stop offset="60%" stop-color="#ffffff" stop-opacity="0.15"></stop>
                      <stop offset="100%" stop-color="#ffffff" stop-opacity="0.35"></stop>
                    </linearGradient>
                  </defs>

                  <!-- –ñ–∏–¥–∫–æ—Å—Ç—å (—Å–ª–æ–∏ —Ä–∏—Å—É–µ–º –≤–Ω—É—Ç—Ä–∏ –∫–ª–∏–ø–∞) -->
                  <g clip-path="url(#cup-clip)" id="bbLiquid">
                    <rect id="layer-base" x="60" y="330" width="180" height="0" fill="#8b5e3c"></rect>
                    <rect id="layer-flavor" x="60" y="330" width="180" height="0" fill="#ff6b81" opacity="0.55"></rect>
                    <rect id="layer-milk" x="60" y="330" width="180" height="0" fill="#fff8f0" opacity="0.0"></rect>

                    <!-- –ü—É–∑—ã—Ä—å–∫–∏/—Ñ–∏–∑–∑ -->
                    <g id="fizzLayer"></g>

                    <!-- –ñ–µ–º—á—É–≥ / –∂–µ–ª–µ / –ø–æ–ø–ø–∏–Ω–≥ –±–æ–±–∞ -->
                    <g id="toppingsLayer"></g>
                  </g>

                  <!-- –õ—ë–¥ –ø–æ–≤–µ—Ä—Ö -->
                  <g id="iceLayer"></g>

                  <!-- –ö–æ–Ω—Ç—É—Ä —Å—Ç–∞–∫–∞–Ω–∞ –∏ –±–ª–∏–∫ -->
                  <path
                    d="M60,30 h180 a12,12 0 0 1 12,12 v300 a30,30 0 0 1 -30,30 H78 a30,30 0 0 1 -30,-30 V42 a12,12 0 0 1 12,-12 z"
                    fill="none" stroke="#cbd5e1" stroke-width="4" />
                  <rect x="72" y="40" width="24" height="290" rx="12" fill="url(#glass-grad)" />
                </svg>
              </div>
            </div>
            <div class="bb-desc" id="bbDesc"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Wishlist Modal -->
    <div class="modal" id="wishlistModal" aria-hidden="true">
      <div class="panel">
        <h2>–°–ø–∏—Å–æ–∫ –∂–µ–ª–∞–Ω–∏–π –¥–ª—è —Ç–µ–±—è üéÅ</h2>
        <p>–ü–æ–º–æ–≥–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ üòá</p>

        <form class="wl-form" id="wlForm">
          <div class="wl-input full">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ*</label>
            <input type="text" id="wlTitle" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —É–∂–∏–Ω –≤ –ê—Ä–∞—á–∏—á–∞" required />
          </div>
          <div class="wl-input full">
            <label>–°—Å—ã–ª–∫–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
            <input type="url" id="wlLink" placeholder="https://..." />
          </div>
          <div class="wl-input full">
            <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
            <input type="text" id="wlCategory" placeholder="–ß–∏—Ç–æ —ç—Ç–æ" />
          </div>
          <div class="wl-input full">
            <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
            <textarea id="wlNote" placeholder="–ê–ø–∏—Å–∞–Ω–∏–∏"></textarea>
          </div>
        </form>

        <div class="wl-actions">
          <button class="btn" id="wlAddBtn">–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫</button>
          <button class="btn secondary" id="wlExportBtn" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ PDF" style="display: none;">–≠–∫—Å–ø–æ—Ä—Ç –≤
            PDF</button>
          <button class="btn secondary" id="wlClearBtn" title="–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫">–û—á–∏—Å—Ç–∏—Ç—å</button>
          <button class="btn secondary" id="wlCloseBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>

        <div class="wl-list" id="wlList"></div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>

</html>